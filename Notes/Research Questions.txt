Q1: What is the upper limit for the number of heights for a given permutation and it's root ladder?
Q2: What is the gray code for generating the root ladder lotter for the permutations
Q3: How many ladder lotteries are there for a given number of inversions? If two permutations have the same number
of inversions do they have the same number of ladder lotteries? 


SVG for the graphics.


The number of ladders for a given permutation is equal to the number of times each bar is swapped + 1.
A bar is swapped iff a bar is the bottom bar of a degenerative triadic sub-pattern. The number of times the 
bar is swapped is still unknown. A bar is part of at least 1 degenerative triadic sub-pattern if said bar represents
an inversion which is part of a degenerative triadic subsequence in the original permutation. 
A degenerative triadic subsequence is defined as follows. Given exactly three values, a , b and c, in a permutation of 
size N, such that a > b > c, value a is to the left of value b in the permutation, 
and value b is to the left of value c in the permutation.


The number of heights, given a number of inversions, for a given ladder, is determined by the position of the bars.
The bars are determined by the inversions. If there is only 1 inversion then there is only 1 height created with
exactly 1 inversion created by exactly 2 elements. If the number of inversions is equal to 2, then the number of
elements responsible for these inversions is either 3 or 4. If the number is 3, then the number of heights required
is 2 since the bars have to be adjascent to each other in the ladder. If the number is 4, then only 2 
heights are reuired because the bars cannot be adjascent to each other. 





Key Point: The number of times a bar crosses a given route N is the same for every permutation of the degenerative case.
For example, given 4 degenerative permutations, 7654321, 654321, 54321, 4321, the bar [2 1] crosses the route 3 once, regardless 
of the permutation.


Given permutation 7654321
Number of ladders 24,698
Details of each bar: 


[6 5]: Crossed route 7 1628 times
[6 4]: Crossed route 7 1567 times 
[6 3]: Crossed route 7 1554 times 
[6 2]: Crossed route 7 1567 times 
[6 1]: Crossed route 7 1628 times 

[5 4]: Crossed route 7 1558 times
       Crossed route 6 85 times.
       Total number of times swapped 1643 

[5 3]: Crossed route 7 1625
        Crossed route 6 84 times
        Total number of times swapped 1709

[5 2]: Crossed route 7 1634 times
        Crossed route 6 84 times
        Total number of times swapped 1718

[5 1]: Crossed route 7 1567
        Crossed route 6 85 times 
        Total number of times swapped 1652

[4 3]: Crossed 7 1530
        Crossed 6 84
        Crossed 5 9
        Total number of times swapped 1623

[4 2]: Crossed 7 1625
       Crossed 6 87
       Crossed 5 9
       Total number of times swapped 1721

[4 1]: Crossed 7 1554
        Crossed 6: 84
        Crossed 5: 9
        Total: 1647

[3 2]: Crossed 7 - 1558
        Crossed 6 - 84
        Crossed 5 - 9
        Crossed 4 - 2
        Total - 1653

[3 1]   Crossed 7 - 1567
        Crossed 6 - 84
        Crossed 5 - 9
        Crossed 4 - 2
        Total - 1662

[2 1]:  Crossed 7 - 1628
        Crossed 6 - 85
        Crossed 5 - 9
        Crossed 4 - 2
        Crossed 3 - 1





Given permutation 654321
Number of ladders 908
Details of each bar: 


[5 4]: 
       Crossed route 6 85 times.
       Total number of times swapped 85 

[5 3]: 
        Crossed route 6 84 times
        Total number of times swapped 84

[5 2]: 
        Crossed route 6 84 times
        Total number of times swapped 84

[5 1]: 
        Crossed route 6 85 times 
        Total number of times swapped 85

[4 3]: 
        Crossed 6 84
        Crossed 5 9
        Total number of times swapped 93

[4 2]: 
       Crossed 6 87
       Crossed 5 9
       Total number of times swapped 96

[4 1]: 
        Crossed 6: 84
        Crossed 5: 9
        Total: 93

[3 2]: 
        Crossed 6 - 84
        Crossed 5 - 9
        Crossed 4 - 2
        Total - 95

[3 1]   
        Crossed 6 - 84
        Crossed 5 - 9
        Crossed 4 - 2
        Total - 95

[2 1]:  
        Crossed 6 - 85
        Crossed 5 - 9
        Crossed 4 - 2
        Crossed 3 - 1
        Total 97

Given 54321
Number of ladders 54321
Total number of ladders = 62
Details of each bar

[4 3] Route 5 - 9

[4 2] Route 5 - 9

[4 1] Route 5 - 9

[3 2] Route 4 - 2
      Route 5 - 9
      Total 11

[3 1] Route 4 - 2
        Route 5 - 9
        Total 11

[2 1]Route 3 - 1
        Route 4 - 2
        Route 5 - 9



Given 4321
Total 8 

[3 2] - Route 4 - 2

[3 1] Route 4 - 2

[2 1] Route 3 - 1
        Route 4 - 2


With the degenerative case, 2 bars share the same height in  the root ladder iff the sum of the values that create the bar sum 
to the same value. I.E. given permutation 54321 
[5 2] and [4 3]  share the same height, 
[4 2] and [5 1] share the same hieght and
[3 2] and [4 1] share the same height.

In the degenerative case,  the degenerative traidic subpatterns in the root
ladder are defined as follows. Given 3 elements of the permutation the combination
of the 3 choose 2 elements from the 3 elements must sum to N, N-1, N-2 where N is the top bar of the degenerative
triadic pattern, N-1 is the right bar of the degenerative triadic pattern and N-2 is the 
bottom bar (bar to be swapped) in the degenerative triadic pattern.



Given 4321 and 54321 it must be noted that the ladders in 4321 are all ancestors of ladders in 54321. 
They are ancestors of ladders in 54321 because they are basically the ancestor of every possible way
of each bar crossing route 5 in 54321 given their state in 4321. Basically ladder 1 in 4321 is a sub-ladder
of ladder 9 in 54321. Ladder 9 is ladder 1 plus all the possible ways that every bar can cross route 5 given
the permutation 54321 and the state of ladder 9 in 54321 which is defined as the state of ladder 1 in 4321.

The question then is, given that you know the state of the sub ladder, SL, of ladder L where the
sub-ladder is generated from  permutation 4321 and the ladder, L, is generated from 54321, can you then
determine how many ways to cross route 5 in ladder L. 

L1 of 4321 = L9 of 54321
L2 of 4321 = L16 54321
L3 of 4321 = L25 of 54321
L4 of 4321 = L32 of 54321
L5 of 4321 = L39 of 54321
L6 of 4321 = L48 of 54321
L7 of 4321 = L55 of 54321




Given permutation 43521 - total : 11 = 10 Swaps + root

[4 3] - 0 Not a bottom bar of a degenerative triadic subsequence
[4 2] - 0 Not a bottom bar of a degenerative triadic subsequence
[4 1] - 0 Not a bottom bar of a degenerative triadic subsequence

[3 2] - crosses 4 only: crosses route 4 two times. Once when [2 1] is below R3 and once when [2 1] is above R 4
[3 1] crosses 4 only: corsses 4 two times.

[2 1] - Crosses 5 three times. Once when neither [3 2] nor [3 1] has crossed R4, once when both [3 2] and [3 1]
        have crossed R4 and once when only [3 2] has crossed R4.
        - Crosses 4 two times. Once when [3 2] and [3 1] have both crossed R 4 and once when neither [3 2] nor [3 1]
        has crossed R 4.
        -Crosses R 3 one time.



If there are 2 degenerative subsequences such that the middle inversion of the each triadic seuqence is 
the same inversion, then what happens is the resulting bar has a left child and then a left grand child. Therefore, 
it is not always the case that the left child of a bar is the bottom bar of a degenerative triadic subsequence, 
it could be the grand child, great grand child, etc, of a middle bar of another degenerative triadic subsequence.

In the case of 6 2 4 1 3 5 we can see that [6 1] is the second bar of the degenerative triadic subsequence of 
 6 2 1 and 6 4 1. Therefore, the bottom bars [2 1] and [4 1] are in the left subtree starting from bar [6 1].
 However, the left child of [6 1] is [4 1] and the left child of [4 1] is [2 1] despite the fact that 
 4 2 1 is not a degeneratie traidic subsequence in the permutation. Therefore, the only logical reason [2 1] is 
 the left child of [4 1] is because [2 1] is the bottom inversion of 6 2 1, but 4 1 is the bottom inversion of
6 4 1. Since the bar [6 1] has two bottom bars associated with it, [4 1] will be the child and [2 1] will be the 
grandchild.



###  Number of DTS's ###
Given pi = degen(N)
The number of DTS's is:
N(N^2 - 3N -2)/6



What exactly is a ladder lottery and why do permutations without decreasing subsequences of length 3 have 
only one ladder lottery?        
        A ladder lottery is a heirarchy of parallelized  of adjascent transpositions of inversions where the maximal number of
        inversions that can be uninverted by an adjascent transposition at a given level of the heirarchy become uninverted. 
        Basically it means perform the maximal number of adjascent transpositions on inversions as possible in parallel, and then 
        continue doing so until the permutation is sorted.

        within a permutation such that the permutation is sorted after all the adjascent transpositions of 
        inversions have been completed. 

        The reason permutations withoyt DSS only have one ladder lottery is because there is only one way to perform  parallelized 
        adjascent transpositions on inversions. Meaning there is only one way to perform parallel adjascent transpositions on the inversions
        in the permutation.

        When a ladder has a DSSs3 then there is a common element shared between two overlapping adjascent inversions. This presents two choices
        as to which adjascent inversion can be uninvert first. The two adjascent transpositions cannot be uninverted in parallel because
        uninverting the one inversion makes the elements of second inversion no longer adjascent, seeing as the shared element of the second inversion
        got misplaced when the first adjascent inversion was uninverted. 
        However, permutations with DSS3s have more than one heirarchy of parallelized adjascent transpositions on inversions because 
        either the smallest of the three  inversions can be transposed before the largest, or the largest can be transposed before the 
        smallest, but neither can be transposed at the same time because they share an element. I.e. if  A B form an inversion and B C form and inversion
        and A > B > C then elemeny B is adjascent to both A and B in the original permutation, resulting in two 
        overlapping inversions in the original permutation. and at the same time there 
        are two adjascent transpositions formed with B, thus if uninverting transposition B C then A C cannot be uninverted at the same time
        since A and B are no longer adjascent in the OG perm, yet they still form an inversion in og PI 
        and vice versa, thus there is a choice as to whether to choose to uninvert the larger of the two inversions 
        formed with B or the smaller of the two inversions that is formed with B. Therefore there are two ladder lotteries for this.



Cases for DSS3s:
        If there are two DSS3s such that 